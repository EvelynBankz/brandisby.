<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sérac — Cart</title>
<style>
  * {margin:0;padding:0;box-sizing:border-box;font-family:"Be Vietnam Pro",sans-serif;}
  body {background:#000;color:#fff;line-height:1.6;}

  /* ---- HEADER ---- */
  header {
    position:fixed;top:0;left:0;width:100%;
    background:rgba(0,0,0,0.6);
    backdrop-filter:blur(10px);
    border-bottom:1px solid rgba(255,255,255,0.1);
    z-index:1000;
    transition:background 0.3s ease;
  }
  header.scrolled {
    background:rgba(0,0,0,0.85);
  }
  .nav-container {
    max-width:1200px;margin:0 auto;padding:16px 24px;
    display:flex;align-items:center;justify-content:space-between;
  }
  .logo {font-size:1.5rem;font-weight:700;letter-spacing:1px;color:#fff;text-transform:uppercase;}
  nav ul {display:flex;gap:24px;list-style:none;}
  nav ul li a {
    color:#fff;text-decoration:none;font-weight:500;position:relative;transition:color .3s;
  }
  nav ul li a::after {
    content:"";position:absolute;bottom:-4px;left:0;width:0;height:2px;background:#8A4D2B;transition:width .3s;
  }
  nav ul li a:hover::after, nav ul li a.active::after {width:100%;}
  .menu-toggle {display:none;flex-direction:column;cursor:pointer;gap:5px;}
  .menu-toggle span {width:25px;height:3px;background:#fff;border-radius:2px;}
  @media(max-width:768px){
    nav {position:absolute;top:70px;left:0;width:100%;background:rgba(0,0,0,0.95);max-height:0;overflow:hidden;transition:max-height .3s;}
    nav.open {max-height:300px;}
    nav ul {flex-direction:column;align-items:center;padding:16px 0;}
    .menu-toggle{display:flex;}
  }

  /* ---- MAIN CART ---- */
  main {max-width:1000px;margin:120px auto 60px;padding:20px;}
  h1 {font-size:2rem;margin-bottom:20px;text-align:center;}
  .cart-items {margin-bottom:40px;}
  .cart-item {
    display:flex;align-items:center;justify-content:space-between;
    background:#111;padding:16px;border-radius:10px;margin-bottom:12px;
  }
  .cart-item img {width:80px;height:80px;object-fit:contain;background:#fff;border-radius:8px;}
  .cart-item-info {flex:1;margin-left:16px;}
  .cart-item-title {font-weight:600;}
  .cart-item-price {color:#8A4D2B;margin-top:4px;}
  .cart-item button {
    background:none;border:1px solid #8A4D2B;color:#8A4D2B;
    padding:6px 10px;border-radius:6px;cursor:pointer;transition:all .3s;
  }
  .cart-item button:hover {background:#8A4D2B;color:#fff;}
  .cart-summary {
    background:#111;padding:20px;border-radius:12px;text-align:center;
  }
  .cart-summary h2 {margin-bottom:10px;}
  .checkout-btn {
    background:#8A4D2B;color:#fff;border:none;padding:12px 24px;
    border-radius:8px;font-size:1rem;cursor:pointer;transition:background .3s;
  }
  .checkout-btn:hover {background:#a65e39;}

  footer {
    text-align:center;padding:20px 0;border-top:1px solid rgba(255,255,255,0.1);
    color:#888;font-size:0.9rem;
  }
</style>
</head>
<body>
<header>
  <div class="nav-container">
    <div class="logo">SÉRAC</div>
    <div class="menu-toggle" id="menuToggle">
      <span></span><span></span><span></span>
    </div>
    <nav id="navMenu">
      <ul>
        <li><a href="/Serac/index.html">Home</a></li>
        <li><a href="/Serac/shop.html" class="active">Shop</a></li>
        <li><a href="/Serac/customization.html">Customization</a></li>
        <li><a href="/Serac/cart.html">Cart</a></li>
      </ul>
    </nav>
  </div>
</header>

<main>
  <h1>Your Cart</h1>
  <div class="cart-items" id="cartItems"></div>
  <div class="cart-summary">
    <h2>Total: <span id="cartTotal">₦0</span></h2>
    <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
  </div>
</main>

<footer>© 2025 Sérac. All rights reserved.</footer>

<script>
  /* ---- HEADER BEHAVIOR ---- */
  const menuToggle = document.getElementById('menuToggle');
  const navMenu = document.getElementById('navMenu');
  menuToggle.addEventListener('click', () => {
    navMenu.classList.toggle('open');
  });
  window.addEventListener('scroll', () => {
    document.querySelector('header').classList.toggle('scrolled', window.scrollY > 20);
  });

  /* ---- CART LOGIC ---- */
  const cartItemsContainer = document.getElementById('cartItems');
  const cartTotalElement = document.getElementById('cartTotal');
  const checkoutBtn = document.getElementById('checkoutBtn');
  let seracCart = JSON.parse(localStorage.getItem('seracCart')) || [];

  function renderCart() {
    cartItemsContainer.innerHTML = '';
    let total = 0;
    if (seracCart.length === 0) {
      cartItemsContainer.innerHTML = '<p style="text-align:center;">Your cart is empty.</p>';
    } else {
      seracCart.forEach((item, index) => {
        total += item.price * item.qty;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}">
          <div class="cart-item-info">
            <div class="cart-item-title">${item.name}</div>
            <div class="cart-item-price">₦${(item.price * item.qty).toLocaleString()}</div>
          </div>
          <button onclick="removeFromCart(${index})">Remove</button>
        `;
        cartItemsContainer.appendChild(div);
      });
    }
    cartTotalElement.textContent = '₦' + total.toLocaleString();
  }

  function removeFromCart(index) {
    seracCart.splice(index, 1);
    localStorage.setItem('seracCart', JSON.stringify(seracCart));
    renderCart();
  }

  checkoutBtn.addEventListener('click', () => {
    if (seracCart.length === 0) {
      alert('Your cart is empty.');
      return;
    }
    const quoteId = Date.now();
    localStorage.setItem('seracQuoteId', quoteId);
    window.location.href = `/Serac/checkout/index.html?quoteId=${quoteId}`;
  });

  renderCart();
</script>
</body>
</html>
