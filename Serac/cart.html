<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SÉRAC | Cart</title>
  <link rel="stylesheet" href="../styles/style.css" />
  <style>
    /* ========== GLOBAL RESET ========== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: "Poppins", sans-serif;
      background-color: #000;
      color: #fff;
      overflow-x: hidden;
    }

    /* ========== HEADER (From customization.html) ========== */
    header {
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.95);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 999;
    }

    .nav-container {
      max-width: 1200px;
      margin: auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.2rem 1.5rem;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: #fff;
      text-decoration: none;
    }

    nav {
      display: flex;
      gap: 2.5rem;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      text-transform: uppercase;
      font-size: 0.9rem;
      letter-spacing: 1px;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #999;
    }

    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 5px;
    }

    .hamburger span {
      width: 25px;
      height: 2px;
      background-color: #fff;
    }

    @media (max-width: 768px) {
      nav {
        position: absolute;
        top: 70px;
        left: 0;
        background-color: rgba(0, 0, 0, 0.98);
        width: 100%;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        padding: 2rem 0;
        transform: translateY(-100%);
        opacity: 0;
        transition: all 0.4s ease;
      }

      nav.active {
        transform: translateY(0);
        opacity: 1;
      }

      .hamburger {
        display: flex;
      }
    }

    /* ========== HERO SECTION (From customization.html) ========== */
    .hero {
      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.6), #000), url('../images/serac-bg.jpg') center/cover no-repeat;
      height: 65vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      margin-bottom: 4rem;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
    }

    /* ========== CART SECTION ========== */
    .cart-container {
      max-width: 1200px;
      margin: 0 auto 5rem;
      padding: 0 1.5rem;
    }

    .cart-items {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .cart-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 1rem;
    }

    .cart-item img {
      width: 90px;
      border-radius: 6px;
    }

    .item-details {
      flex: 1;
      margin-left: 1.2rem;
    }

    .item-details h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    .item-details p {
      font-size: 0.9rem;
      color: #bbb;
    }

    .cart-item .remove-btn {
      background: none;
      color: #fff;
      border: 1px solid #fff;
      padding: 0.4rem 0.8rem;
      font-size: 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      transition: 0.3s;
    }

    .cart-item .remove-btn:hover {
      background-color: #fff;
      color: #000;
    }

    .cart-summary {
      margin-top: 3rem;
      text-align: right;
    }

    .cart-summary h2 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
    }

    .checkout-btn {
      background-color: #fff;
      color: #000;
      border: none;
      padding: 0.8rem 2rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .checkout-btn:hover {
      background-color: #999;
    }

    /* ========== FOOTER ========== */
    footer {
      text-align: center;
      padding: 2rem 0;
      font-size: 0.85rem;
      color: #777;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="nav-container">
      <a href="../Serac/index.html" class="logo">SÉRAC</a>
      <nav id="navMenu">
        <a href="../Serac/index.html">Home</a>
        <a href="../Serac/shop.html">Shop</a>
        <a href="../Serac/customization.html">Customization</a>
        <a href="../Serac/about.html">About</a>
        <a href="../Serac/cart.html">Cart</a>
      </nav>
      <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <h1>Your Cart</h1>
  </section>

  <!-- CART SECTION -->
  <div class="cart-container">
    <div class="cart-items" id="cartItems"></div>
    <div class="cart-summary">
      <h2>Total: <span id="cartTotal">₦0</span></h2>
      <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>© 2025 SÉRAC. All rights reserved.</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    // ====== NAV TOGGLE ======
    const hamburger = document.getElementById("hamburger");
    const navMenu = document.getElementById("navMenu");
    hamburger.addEventListener("click", () => {
      navMenu.classList.toggle("active");
    });

    // ====== CART LOGIC ======
    const cartItemsEl = document.getElementById("cartItems");
    const cartTotalEl = document.getElementById("cartTotal");
    const checkoutBtn = document.getElementById("checkoutBtn");

    let cart = JSON.parse(localStorage.getItem("serac_cart")) || [];

    function renderCart() {
      cartItemsEl.innerHTML = "";
      let total = 0;

      if (cart.length === 0) {
        cartItemsEl.innerHTML = "<p>Your cart is empty.</p>";
        cartTotalEl.textContent = "₦0";
        return;
      }

      cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        const itemEl = document.createElement("div");
        itemEl.classList.add("cart-item");
        itemEl.innerHTML = `
          <img src="${item.image}" alt="${item.name}" />
          <div class="item-details">
            <h3>${item.name}</h3>
            <p>₦${item.price.toLocaleString()} × ${item.quantity}</p>
          </div>
          <button class="remove-btn" data-index="${index}">Remove</button>
        `;
        cartItemsEl.appendChild(itemEl);
      });

      cartTotalEl.textContent = `₦${total.toLocaleString()}`;
      attachRemoveEvents();
    }

    function attachRemoveEvents() {
      document.querySelectorAll(".remove-btn").forEach(btn => {
        btn.addEventListener("click", e => {
          const index = e.target.dataset.index;
          cart.splice(index, 1);
          localStorage.setItem("serac_cart", JSON.stringify(cart));
          renderCart();
        });
      });
    }

    checkoutBtn.addEventListener("click", () => {
      if (cart.length === 0) return alert("Your cart is empty!");
      window.location.href = `/checkout/index.html?quoteId=serac-${Date.now()}`;
    });

    renderCart();
  </script>
</body>
</html>
