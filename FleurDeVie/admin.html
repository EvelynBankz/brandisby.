<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FleurDeVie Admin Panel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #fafafa;
      color: #333;
    }
    header {
      background: #222;
      color: #fff;
      padding: 15px;
      text-align: center;
    }
    h1 {
      margin: 0;
      font-size: 24px;
    }
    .container {
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
    }
    .accordion {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .accordion button {
      width: 100%;
      text-align: left;
      padding: 15px;
      font-size: 16px;
      font-weight: bold;
      background: #f5f5f5;
      border: none;
      outline: none;
      cursor: pointer;
    }
    .accordion button:hover {
      background: #eee;
    }
    .accordion .panel {
      display: none;
      padding: 20px;
      background: #fff;
    }
    form {
      display: grid;
      gap: 15px;
    }
    label {
      font-weight: bold;
    }
    input, textarea {
      padding: 10px;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    button[type="submit"], .add-row {
      background: #222;
      color: #fff;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    button[type="submit"]:hover, .add-row:hover {
      background: #444;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    table th {
      background: #f5f5f5;
    }
    .total-display {
      text-align: right;
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
    }
    .remove-row {
      color: red;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>FleurDeVie Admin Panel</h1>
  </header>

  <div class="container">

    <!-- Product Section -->
    <div class="accordion">
      <button onclick="togglePanel(this)">➕ Manage Products</button>
      <div class="panel">
        <form id="productForm">
          <label>Product Name</label>
          <input type="text" required>

          <label>Price</label>
          <input type="number" required>

          <label>Description</label>
          <textarea rows="4"></textarea>

          <label>Image Upload</label>
          <input type="file" accept="image/*">

          <button type="submit">Save Product</button>
        </form>
      </div>
    </div>

    <!-- Quote Section -->
    <div class="accordion">
      <button onclick="togglePanel(this)">➕ Generate Quote</button>
      <div class="panel">
        <form id="quoteForm">
          <label>Customer Name</label>
          <input type="text" id="customerName" required>

          <label>Phone Number</label>
          <input type="text" id="customerPhone" required>

          <label>Email</label>
          <input type="email" id="customerEmail">

          <h3>Quote Items</h3>
          <table id="quoteTable">
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Qty</th>
                <th>Unit Price</th>
                <th>Subtotal</th>
                <th>Notes</th>
                <th>Remove</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <button type="button" class="add-row" onclick="addRow()">+ Add Item</button>

          <div class="total-display">TOTAL: ₦<span id="total">0</span></div>

          <button type="submit">Save Quote</button>
        </form>
      </div>
    </div>

  </div>

  <script>
    // Accordion toggle
    function togglePanel(button) {
      const panel = button.nextElementSibling;
      const isOpen = panel.style.display === "block";
      document.querySelectorAll(".accordion .panel").forEach(p => p.style.display = "none");
      document.querySelectorAll(".accordion button").forEach(b => b.textContent = b.textContent.replace("➖","➕"));
      if (!isOpen) {
        panel.style.display = "block";
        button.textContent = button.textContent.replace("➕","➖");
      }
    }

    // Add row in quote table
    function addRow() {
      const tbody = document.querySelector("#quoteTable tbody");
      const row = document.createElement("tr");
      row.innerHTML = `
        <td><input type="text" class="item-name" required></td>
        <td><input type="number" class="qty" value="1" min="1"></td>
        <td><input type="number" class="price" value="0" min="0"></td>
        <td class="subtotal">0</td>
        <td><input type="text" class="notes"></td>
        <td><span class="remove-row" onclick="removeRow(this)">✖</span></td>
      `;
      tbody.appendChild(row);
      updateTotals();
      row.querySelectorAll("input").forEach(input => input.addEventListener("input", updateTotals));
    }

    // Remove row
    function removeRow(el) {
      el.closest("tr").remove();
      updateTotals();
    }

    // Update totals
    function updateTotals() {
      let total = 0;
      document.querySelectorAll("#quoteTable tbody tr").forEach(row => {
        const qty = parseFloat(row.querySelector(".qty").value) || 0;
        const price = parseFloat(row.querySelector(".price").value) || 0;
        const subtotal = qty * price;
        row.querySelector(".subtotal").textContent = subtotal;
        total += subtotal;
      });
      document.getElementById("total").textContent = total;
    }

    // Handle form submit (demo)
    document.getElementById("quoteForm").addEventListener("submit", function(e) {
      e.preventDefault();
      alert("Quote saved successfully! (In real app: store to Firestore)");
    });
  </script>
</body>
</html>
